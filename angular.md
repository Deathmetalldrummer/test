## Работа с формами

```html
<input type="text" name=”id” #inputModel="ngModel" [(ngModel)]="id" />
<span>{{inputModel.model}}</span>
```
`#inputModel` ссылается на элемент html

Свойства **ngModel**:
```typescript
name: // значение атрибута name
model: // данные которые попадают в модель [(ngModel)]
value: // аналогично model
valid: // валидация boolean (true)
invalid: // валидация boolean (false)
untouched:
```

У **ngForm** некоторые свойства похожи на ngModel

---
## Состояние модели и валидация
**Состояние модели**

Применение директивы **ngModel** не только устанавливает привязку данных, но и позволяет отслеживать состояние элемента ввода. Для установки состояния Angular применяет к элементам ввода специальные классы CSS:
* Если элемент ввода еще не получал фокус, то устанавливается класс **ng-untouched**. Если же поле ввода уже получало фокус, то к нему применяется класс **ng-touched**. При этом получение фокуса не обязательно должно сопровождаться изменением значения в этом поле.
* Если первоначальное значение в поле ввода было изменено, то устанавливается класс **ng-dirty**. Если же значение не изменялось с момента загрузки страницы, то к элементу ввода применяется класс **ng-pristine**
* Если значение в поле ввода корректно, то применяется класс **ng-valid**. Если же значение некорректно, то применяется класс **ng-invalid**

Например, при запуске веб-страницы для элемента ввода:
```html
<input class="form-control" name="title" [(ngModel)]="title" />
```
Будет генерироваться следующая разметка html:
```html
<input class="form-control ng-untouched ng-pristine ng-valid" name="title" ng-reflect-name="title" />
```


<br />
**Валидация**

Angular 2 мы можем использовать валидацию HTML5
* **required**: требует обязательного ввода значения
* **pattern**: задает регулярное выражение, которому должны соответствовать вводимые данные


<br />
**Валидация email в Angular 4**

Так как валидация email является довольно распространенной задачей, то начиная с версии Angular 4 был добавлен специальный валидатор в виде атрибута `email`:
```html
<input type="email" email />
```

<br />
**Template-Driven**

* ngModel
* ngForm
* ngSubmit


<br />
**Data-Driven**

* FormGroup
* FormControl
* FormArray
* FormBuilder

<br />
При подходе Data-Driven для формы создается набор объектов **FormGroup** и **FormControl**.

* **FormGroup** - Сама форма и ее подсекции
* **FormControl** - Отдельные элементы ввода
* **FormArray** - Массив, хранит набор объектов FormControl.
* **FormBuilder** - Альтернативный подход к созданию форм
